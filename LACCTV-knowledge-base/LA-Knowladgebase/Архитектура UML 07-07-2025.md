```plantuml
@startuml
left to right direction
skinparam rectangle {
    BackgroundColor #e3f2fd
    BorderColor #1565c0
}
skinparam cloud {
    BackgroundColor #f3e5f5
    BorderColor #6a1b9a
}
skinparam database {
    BackgroundColor #e8f5e9
    BorderColor #2e7d32
}
skinparam storage {
    BackgroundColor #fff3e0
    BorderColor #ef6c00
}
skinparam actor {
    BackgroundColor #ffffff
    BorderColor black
}

actor Пользователь
actor Админ

cloud "Telegram Bot\n(Aiogram)" as Telegram
rectangle "PWA\n(Next.js + Payload)" as PWA
rectangle "Mobile App\n(Expo + NativeWind)" as Expo
rectangle "ML сервис\n(PyTorch + OpenCV)" as ML
rectangle "Django\n(REST API актов)" as Django

database "PostgreSQL\n(Payload DB)" as Postgres
storage "MinIO\n(файлы, фото, PDF)" as MinIO

cloud "GitHub Actions\n+ Docker Compose" as DevOps

' USERS
Пользователь --> PWA : Веб доступ
Пользователь --> Telegram : Чат
Пользователь --> Expo : Нативное приложение
Админ --> PWA : Админка

' PWA
PWA --> Postgres : CRUD инструкции\nчеклисты\nакты
PWA --> MinIO : загрузка файлов
PWA --> ML : отправка фото для распознавания
PWA --> Django : запрос актов

' Telegram
Telegram --> Postgres : поиск инструкций
Telegram --> Django : отчеты по актам
Telegram --> ML : AI чек-листы\nинструкции
ML --> Telegram : результат чек-листа
Telegram --> MinIO : при необходимости файлы

' Mobile App
Expo --> Postgres : загрузка инструкций
Expo --> MinIO : файлы офлайн
Expo --> ML : VIN/SN/госномера
Expo --> Django : данные актов

' ML сервис
ML --> Postgres : получает данные инструкций
ML --> MinIO : хранение артефактов
ML --> PWA : результаты VIN/SN

' Django
Django --> Postgres : синхронизация данных
Django --> MinIO : при необходимости файлы
Django <..> PWA : UI согласование актов

' DevOps
DevOps -[#green]-> PWA
DevOps -[#green]-> Telegram
DevOps -[#green]-> Expo
DevOps -[#green]-> ML
DevOps -[#green]-> Django

@enduml


```
[Ссылка](//www.plantuml.com/plantuml/png/VCzDJi0W40NWFQSWyGBz2TNkZ9va2ZD8IXapJ5V6kulHXGsfR_aWNzuyLmNHyyWc8wbLjfBYczgG1BqcBgRkgRo3m66_6oWne_qmjkK5_1w5pn9UERFO1vnfel3pnX9GVllHBSuFvlEFvJEVuSwX6HsvtbbWt5QuE04KDgZtavx8uTfJ4pw6URfGLLaWtaf4RTRGIqYB7wx7WM_KFqvBvsovVMoA-UgqQdgQYABeVdx52oxKG65lZB5Ir2QbLCh7mheeCC4YpZIq4jWL45rWWd5lNBeTf6DBI-4llFUFF6SUbpud8mitdVVUFUVTUywzCwabwn_wIW_D5zt3yvUEpA6EkPVmLztLbxglHvvdhPnOyhVzJMJ7hUrQy23V2BbxEA7gBIKnRzp2YSfg7h2olzUUtcgfILMfxs-7zGrBGD35peTh3JpppIOeStlD4FXolTtOzLSRmGs5ntznIieSwDXqK7xV781OsLyATzRVWhlGz8FP5SkRBxcimXOM8S2BSzKbbQyKbOxq0EhXWiLRXET9vw4aRBKtT_pggnAJM1cgyCp2Ru8jpxQNXJM2uWAGvYEkle2f9rCAwoiccLALmdDBJ62txhvej5z-M5Fvv9rerO99LGZNt_axQZPytmnRlYtDtrrejZpllbgkpYrMlNyrKULoJsYnUgJqDnoTATr5_WDpQ8xqzTqqQIMvFncx6ywk4FezEUyZFW8gLlhQTB0TOlCRy17MiJUUAgV2yQ4Uw8ZYE1oC4IFs0ZYxk5nGn2L2Ef0oC9-mxzS2ynav1iZMJs8djO1TvKekidOpNG-XSzAnGa8bRQAuCRf4A5j67H5a4IfTf9r3SweOmWnUWzf3-OH5b6fERo-oqoHvUHdwuCmSzOhbdYpIofc1qlGWI_-5otCpebOQGnkIAoHjf2yTYgZD5vMrCUVwcEMt1tngL4m7p1uWc0jcC8VfotIKoYdzI0P5mROO8i_CCNwxo79f1nQXyNj4iyQV2e-pbxOgtTvimuGfLJWvO1ismsGxSe2qQALOdgcMP_GvQ-EWeygOGo0ur_qkPm6vJtISwdVgooLsfXgEOexWOSG6fcxBaiHBN477faEAl7ie0N2ykLGgnGW9mvhPGxXX9QDg-IxQHxfWw65HJ7h5X6m32pEdJkdcMDZ_Em32VpmzBLKl5v4Sb7FsZ2jv2TEsozVJFbJkzJtKxWTlhFwiOvdNh1WRdd6EtcQSYdTF_M03VuN-0000)
