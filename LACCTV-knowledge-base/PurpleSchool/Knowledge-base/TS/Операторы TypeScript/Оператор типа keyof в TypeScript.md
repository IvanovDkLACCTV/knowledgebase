Оператор типа `keyof` в TypeScript является мощным инструментом, который помогает в работе с типами объектов, позволяя извлекать ключи объекта в виде строковых или числовых литералов. Это особенно полезно в сценариях, где необходим строгий контроль над именами свойств объекта и их использованием.

### Что такое `keyof`?

`keyof` — это оператор типа, который принимает тип объекта и возвращает тип, представляющий все имена его ключей. Результатом работы `keyof` является объединение строк или чисел, которое содержит литералы всех возможных ключей объекта.

### Примеры использования `keyof`

Давайте рассмотрим пример объекта и использование `keyof` с этим объектом:

```typescript
interface User {
  id: number;
  name: string;
  age: number;
}

type UserKeys = keyof User;
// UserKeys теперь равно 'id' | 'name' | 'age'
```

В этом примере `UserKeys` будет типом, который может принять значение `'id'`, `'name'`, или `'age'`, и никакие другие значения не будут допустимы.

### Применение `keyof` в функциях

Оператор `keyof` может быть очень полезен при написании обобщенных функций, которые работают с объектами. Он гарантирует, что функции работают только с существующими ключами объекта.

```typescript
function getValue<T, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key];
}

const user: User = {
  id: 1,
  name: "Alice",
  age: 30
};

const userName = getValue(user, 'name'); // Возвращает 'Alice'
const userAge = getValue(user, 'age'); // Возвращает 30
// const userUnknown = getValue(user, 'email'); // Ошибка: Аргумент типа '"email"' не может быть присвоен параметру типа '"id" | "name" | "age"'
```

В этом примере функция `getValue` использует типы обобщений для обеспечения безопасности типов при доступе к свойствам объекта. Попытка доступа к несуществующему ключу приведет к ошибке компиляции.

### Преимущества использования `keyof`

1. **Типобезопасность:** `keyof` увеличивает безопасность типов, позволяя избежать ошибок во время выполнения, связанных с неправильным доступом к свойствам объекта.
2. **Масштабируемость:** Код становится более устойчивым к изменениям. Добавление или удаление ключей из объекта автоматически обновит все зависимые типы.
3. **Удобство в использовании:** Сокращает количество дублируемого кода и упрощает работу с объектами.

### Заключение

Оператор `keyof` в TypeScript предоставляет эффективный способ работы с ключами объекта, улучшая безопасность типов и облегчая масштабирование кода. Он позволяет разработчикам писать более чистый, безопасный и удобный код, что делает его незаменимым инструментом в современной разработке программного обеспечения.

[[https://purpleschool.ru/knowledge-base/article/keyof-type-manipulation|Источник]]